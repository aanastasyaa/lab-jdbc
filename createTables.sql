DROP TABLE "ITEM" IF EXISTS;
DROP TABLE "ITEMGROUP" IF EXISTS;

CREATE TABLE "ITEMGROUP" (ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                       TITLE VARCHAR(100) UNIQUE NOT NULL);

CREATE TABLE "ITEM" (ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                       TITLE VARCHAR(100) UNIQUE NOT NULL, GROUPID INTEGER NOT NULL);
					   
ALTER TABLE "ITEM" ADD CONSTRAINT fk_itemgroup FOREIGN KEY (GROUPID) REFERENCES "ITEMGROUP"(ID) ON DELETE CASCADE ON UPDATE CASCADE;

INSERT INTO "ITEMGROUP"(TITLE) VALUES('Эрих Мария Ремарк');
INSERT INTO "ITEMGROUP"(TITLE) VALUES('Джоан Роулинг');
INSERT INTO "ITEMGROUP"(TITLE) VALUES('Лев Толстой');

INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Жизнь взаймы',0);
INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Три товарища',0);
INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Гарри Поттер и философский камень',1);
INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Фантастические звери и места их обитания',1);
INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Воскресение',2);
INSERT INTO "ITEM"(TITLE,GROUPID) VALUES('Война и мир',2);

